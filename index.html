<!DOCTYPE html>
<html xmlns:mml="http://www.w3.org/1998/Math/MathML">
  <head>
    <title>eLife Lens</title>
    <link href='styles/fonts/open-sans/open-sans.css' rel='stylesheet' type='text/css'/>
    <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link href='styles/font-awesome.css' rel='stylesheet' type='text/css'/>

    <link href="styles/lens.css" media="screen" rel="stylesheet" type="text/css" />

    <!-- Custom View Styles -->
    <link href="styles/library.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="styles/collection.css" media="screen" rel="stylesheet" type="text/css" />

    <!-- Generic Surface Styles -->
    <link href="lib/substance/substance-surface/styles/surface.css" media="screen" rel="stylesheet" type="text/css" />

    <!-- Lens.Article related styles -->
    <link href="lib/substance/lens-article/article.css" media="screen" rel="stylesheet" type="text/css" />

    <link href="lib/substance/lens-article/nodes/node/node.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="lib/substance/lens-article/nodes/text/text.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="lib/substance/lens-article/nodes/paragraph/paragraph.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="lib/substance/lens-article/nodes/heading/heading.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="lib/substance/lens-article/nodes/formula/formula.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="lib/substance/lens-article/nodes/codeblock/codeblock.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="lib/substance/lens-article/nodes/figure/figure.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="lib/substance/lens-article/nodes/figure/image/image.css" media="screen" rel="stylesheet" type="text/css" />

    <!-- Lens.Outline styles -->
    <link href="lib/substance/lens-outline/outline.css" media="screen" rel="stylesheet" type="text/css" />

    <!-- Templates -->
    <script type="text/html" name="lens">
      <div class="browser-not-supported" style="display: none;">
        <h1>PLoS Lens</h1>
        <p>
          Lens is in its early days and has not yet been tested against the browser that you are using.
          It might break on your system. If it does, let us know, we are very interested in finding
          out where it works well, and where it doesn not.
        </p>
        <a href="#" class="hide-browser-warning">Okay</a>
      </div>
      <a href="#" class="home">
        <img src="./images/logo.png">
        <div class="go-back">Articles</div>
      </a>

      <div class="loading" style="display: none;"></div>

      <div id="main">

      </div>
    </script>

    <!-- Collection View -->
    <script type="text/x-ejs-template" name="collection">
      <% _.each(documents, function(doc) { %>
        <a class="document" href="#<%= doc.id %>">
          <div class="title">
            <%= doc.title %>
          </div>
        </a>
      <% }) %>
    </script>

    <!-- Library -->
    <script type="text/x-ejs-template" name="library">
      <div class="navigation">

      </div>

      <!-- this is where the doc list gets rendered -->
      <div class="collection"></div>
    </script>

    <!-- Article View -->
    <script type="text/x-ejs-template" name="article">
      <!-- Main Document Content -->
      <div class="document">

      </div>

      <!-- Resources panel -->
      <div class="resources">
      </div>
    </script>

    <script type="text/x-ejs-template" name="surface">
      <!--<div class="controls">

      </div>-->
      <!-- where the content goes -->
      <div class="nodes"></div>
    </script>


    <script src="lib/underscore.js"></script>
    <script src="lib/jquery-2.0.3.min.js"></script>
    <script src="lib/backbone.js"></script>

    <!-- MathJax -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      "HTML-CSS": { linebreaks: { automatic: true } },
             SVG: { linebreaks: { automatic: true } }
    });
    </script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    #####scripts#####

    <script>
      var Lens = require("/src/lens.js");

      // Create a new Lens app instance
      // --------
      // 
      // injects itself into body

      var app = new Lens({
        env: 'development',
        library_url: ['http://cdn.elifesciences.org/documents/elife', '.js'],
        // alternatively
        // library_url: 'http://plos-converter.herokuapp.com'
      });

      // window.app = app;

      $(function() {
        app.start();
      });

    </script>
  </head>
  <body>

  </body>
</html>
